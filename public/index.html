<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Multiplayer Cards Against Humanity game - Play with friends!">
  <title>Cards Against Soog</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container">
    <!-- HOME SCREEN -->
    <div id="homeScreen" class="screen active">
      <h1 class="logo">Cards Against Soog</h1>
      <p class="subtitle">Play with friends in real-time!</p>

      <!-- QR Code Container -->
      <div id="qrCodeContainer" class="qr-code-container"></div>
      <div id="localIpDisplay" class="local-ip-display"></div>

      <div class="input-group">
        <input type="text" id="playerNameInput" placeholder="Enter your name" maxlength="20" autocomplete="off">
      </div>

      <button id="createRoomBtn">Create New Game</button>

      <div class="divider">OR</div>

      <div class="input-group">
        <input type="text" id="roomCodeInput" placeholder="Enter room code" maxlength="4" autocomplete="off">
      </div>

      <button id="joinRoomBtn" class="secondary">Join Existing Game</button>

      <div class="divider" style="margin-top: 2rem;">TOOLS</div>

      <a href="/deck-creator.html" style="text-decoration: none;">
        <button class="secondary" style="margin-top: 0;">ðŸŽ´ Create Custom Cards</button>
      </a>

      <div id="errorMessage" class="status-message error-message"></div>
    </div>

    <!-- LOBBY SCREEN -->
    <div id="lobbyScreen" class="screen">
      <h2>Waiting for Players...</h2>

      <div class="room-code-display">
        <div class="room-code-label">Room Code</div>
        <div class="room-code" id="displayRoomCode">----</div>
        <p class="subtitle">Share this code with your friends!</p>
      </div>

      <div class="game-settings" id="gameSettingsSection" style="display: none;">
        <h3>Game Settings</h3>
        <div class="pack-selection">
          <label>Select Card Packs:</label>
          <div id="packList" class="pack-list">
            <!-- Packs will be rendered here -->
          </div>
        </div>
      </div>

      <div class="players-waiting">
        <h3>Players (<span id="playerCount">0</span>)</h3>
        <ul id="playerList" class="player-list"></ul>
      </div>

      <button id="startGameBtn">Start Game</button>
      <p class="subtitle">Need at least 2 players to start</p>
    </div>

    <!-- GAME SCREEN -->
    <div id="gameScreen" class="screen">
      <div class="game-header">
        <div class="round-info">Round <span id="roundNumber">1</span></div>
        <div class="czar-indicator" id="czarIndicator">Czar: ---</div>
        <div class="game-header-buttons">
          <button id="endGameBtn" class="secondary">End Game</button>
          <button id="leaveGameBtn" class="secondary">Leave Game</button>
        </div>
      </div>

      <div class="scoreboard" id="scoreboard"></div>

      <div id="phaseIndicator" class="phase-indicator"></div>

      <!-- Black Card Display -->
      <div class="black-card-container">
        <div class="card black" id="blackCardDisplay">
          <div class="card-text">Waiting for question...</div>
        </div>
      </div>

      <!-- Status/Instructions -->
      <div id="gameStatus" class="status-message"></div>

      <!-- Submissions (for czar to judge) -->
      <div id="submissionsSection" style="display: none;">
        <h3 class="white-cards-label">Pick the Funniest Answer!</h3>
        <div id="submissionsGrid" class="submissions-grid"></div>
      </div>

      <!-- Round Winner Display -->
      <div id="roundWinnerSection" style="display: none;">
        <h3 class="white-cards-label">Round Winner!</h3>
        <div id="winnerSubmission"></div>
        <button id="nextRoundBtn">Next Round</button>
      </div>

      <!-- Game Over -->
      <div id="gameOverSection" class="game-over-screen" style="display: none;">
        <div class="emoji-celebration">ðŸŽ‰</div>
        <div class="winner-announcement" id="gameWinnerName">Player Won!</div>
        <div id="leaderboardContainer"></div>
        <button id="newGameBtn">Back to Home</button>
      </div>

      <!-- Player's Hand -->
      <div id="playerHandSection">
        <div class="hand-header">
          <h3 class="white-cards-label">Your Cards</h3>
          <div class="swaps-count" id="swapsRemainingDisplay">Swaps left: 3</div>
        </div>
        <div id="playerHand" class="white-cards-grid"></div>
        <div class="hand-actions">
          <button id="submitCardsBtn" class="primary">Submit Answer</button>
          <button id="swapCardsBtn" class="secondary">Swap Selected</button>
        </div>
      </div>
    </div>
  </div>

  <!-- QR Code Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

  <!-- Socket.IO -->
  <script src="/socket.io/socket.io.js"></script>

  <!-- Game Logic (Modular) -->
  <script type="module" src="/js/main.js"></script>
</body>

</html>